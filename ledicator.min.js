!function(t){"use strict";var e=function(e,s){this.options=s,this.namedColors={gray:["#9a9a9a","#858585","#00000033"],red:["#ef5a5a","#d02525","#d200007f"],yellow:["#efef5a","#d0d025","#d2d2007f"],green:["#5aef5a","#25d025","#00d2007f"],blue:["#5a5aef","#2525d0","#0000d27f"],orange:["#efaf5a","#d08025","#d264007f"],pink:["#ef5aef","#d025d0","#d200d27f"],cyan:["#5aefef","#25d0d0","#00d2d27f"]},this.$element=t(e),this.className="container_"+this.$element[0].id,this.$container=t("<div class='"+this.className+"'></div>"),this.$button=t("<label></label>"),this.$options=t(e).children("option"),this.numberOfOptions=this.$options.length,this.initialOptionIndex=this.getState(),this.ledStyle=null,this.convertColors(),this.init()};e.prototype={constructor:e,currentState:null,init:function(){var e=this;this.$element.css({position:"absolute",left:"-9999px"}),this.$container.append(this.$button),this.$element.after(this.$container),this.currentState=this.initialOptionIndex,this.copyStyles(".ledicator","."+this.className),this.ledStyle=this.findStyle("."+this.className+" label::before"),this.setState(this.currentState),this.$element.on("change",function(){e.setState(e.getState())}),this.$button.on("mousedown",function(){t(e).ledicator.enabled&&e.setState(e.currentState+1)})},getState:function(){var t=[];return this.$options.each(function(){t.push(this.value)}),t.indexOf(this.$element.val())},setState:function(t){this.$options.removeAttr("selected"),t>=this.numberOfOptions&&(t=0),0>t&&(t=this.numberOfOptions-1),this.$options.eq(t).prop("selected","selected");var e=this.options.states[t];this.changeStyle(e),this.currentState=t},colorToRgba:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),s=e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/255}:null;if(null==e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);var s=e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:null}return null!=s?"rgba("+s.r+","+s.g+","+s.b+","+s.a+")":void 0},convertColors:function(){for(var t=0;t<this.numberOfOptions;t++)if("string"!=typeof this.options.states[t])for(var e=0;3>e;e++)this.options.states[t][e]=this.colorToRgba(3==this.options.states[t].length?this.options.states[t][e]:this.options.states[t][0]);else{var s=this.colorToRgba(this.options.states[t]);if(void 0!=s){this.options.states[t]=new Array;for(var e=0;3>e;e++)this.options.states[t].push(s)}else{this.options.states[t]=this.namedColors[this.options.states[t]];for(var e=0;3>e;e++)this.options.states[t][e]=this.colorToRgba(this.options.states[t][e])}}},findStyle:function(t){for(var e=0;e<document.styleSheets.length;e++)for(var s=0;s<document.styleSheets[e].cssRules.length;s++)if("undefined"!=typeof document.styleSheets[e].cssRules[s].selectorText&&document.styleSheets[e].cssRules[s].selectorText==t)return document.styleSheets[e].cssRules[s]},copyStyles:function(t,e){for(var s=!1,n=0;n<document.styleSheets.length;n++){for(var i=document.styleSheets[n].cssRules.length,o=0;i>o;o++)if("undefined"!=typeof document.styleSheets[n].cssRules[o].selectorText&&document.styleSheets[n].cssRules[o].selectorText.indexOf(t)>-1){for(var s=!0,a=document.styleSheets[n].cssRules[o].cssText;a.indexOf(t)>-1;)a=a.replace(t,e);document.styleSheets[n].insertRule(a,document.styleSheets[n].cssRules.length)}if(s)break}},changeStyle:function(t){this.ledStyle.style.background="radial-gradient(40% 35%, "+t[0]+", "+t[1]+" 60%)",this.ledStyle.style.boxShadow="inset 0 3px 5px 1px rgba(0,0,0,0.1), 0 1px 0 rgba(255,255,255,0.4), 0 0 10px 2px "+t[2]}},t.fn.ledicator=function(s){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this),o=i.data("LEDicator");o?"string"==typeof s&&o[s].apply(o,n):i.data("LEDicator",new e(this,s))})},void 0==t.fn.ledicator.enabled&&(t.fn.ledicator.enabled=!0),t.fn.setState=function(e){return t(this).data().LEDicator.setState(e)},t.fn.getState=function(){return t(this).data().LEDicator.getState()}}(jQuery);